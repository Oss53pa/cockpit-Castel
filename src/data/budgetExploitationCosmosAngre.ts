// ============================================================================
// BUDGET D'EXPLOITATION - COSMOS ANGRÉ
// Centre Commercial Cosmos Angré - New Heaven SA / CRMC
// Version: Janvier 2026
// ============================================================================

// ============================================================================
// IMPORTS DES TYPES DEPUIS LE MODULE CENTRALISÉ
// ============================================================================

import type {
  CategorieExploitation,
  SousCategoriePrestation,
  GrilleSalariale,
  VagueRecrutement,
  PostePrestation,
  PosteFluide,
  PosteAssurance,
  PosteFonctionnement,
  PosteMarketing,
  PosteProvision,
  PosteOperationnelExploitation,
  BudgetExploitationAnnee,
  RatiosBenchmark,
} from '@/types/budget.types';

import { PROJET_CONFIG } from '@/data/constants';

// Re-export pour compatibilité avec les imports existants
export type {
  CategorieExploitation,
  SousCategoriePrestation,
  GrilleSalariale,
  VagueRecrutement,
  PostePrestation,
  PosteFluide,
  PosteAssurance,
  PosteFonctionnement,
  PosteMarketing,
  PosteProvision,
  PosteOperationnelExploitation,
  BudgetExploitationAnnee,
  RatiosBenchmark,
};

// ============================================================================
// GRILLE SALARIALE (Brut mensuel + charges 25%)
// ============================================================================

export const GRILLE_SALARIALE: GrilleSalariale[] = [
  { poste: 'Center Manager', brutMensuel: 1_800_000, chargeMensuel: 2_250_000 },
  { poste: 'Facility & Security Manager', brutMensuel: 1_200_000, chargeMensuel: 1_500_000 },
  { poste: 'Admin & Finance Manager*', brutMensuel: 400_000, chargeMensuel: 500_000 },
  { poste: 'Marketing & Commercial Manager*', brutMensuel: 400_000, chargeMensuel: 500_000 },
  { poste: 'Team Leader', brutMensuel: 550_000, chargeMensuel: 687_500 },
  { poste: 'Senior (Maintenance, Invoicing)', brutMensuel: 450_000, chargeMensuel: 562_500 },
  { poste: 'Assistant/Officer', brutMensuel: 300_000, chargeMensuel: 375_000 },
  { poste: 'Agent (sécurité, accueil)', brutMensuel: 180_000, chargeMensuel: 225_000 },
];

// ============================================================================
// ÉCHELONNEMENT PAR VAGUE - 2026
// ============================================================================

export const VAGUES_RECRUTEMENT_2026: VagueRecrutement[] = [
  { vague: 'Existant', postes: 'Center Manager', effectif: 1, debutMois: 'Jan 2024', mois2026: 12, coutTotal: 27_000_000 },
  { vague: 'Vague 1', postes: 'Facility & Security Manager', effectif: 1, debutMois: 'Mars', mois2026: 10, coutTotal: 15_000_000 },
  { vague: 'Vague 2', postes: 'Team Leaders (Commercial, Security, Admin, Maintenance)', effectif: 4, debutMois: 'Juin', mois2026: 7, coutTotal: 19_250_000 },
  { vague: 'Vague 3', postes: 'Seniors + Assistants', effectif: 9, debutMois: 'Sept', mois2026: 4, coutTotal: 16_875_000 },
  { vague: 'Vague 4', postes: 'Agents terrain', effectif: 8, debutMois: 'Oct', mois2026: 3, coutTotal: 5_400_000 },
  { vague: 'Mutualisés', postes: 'AFM, MCM (25%)', effectif: 2, debutMois: 'Juin', mois2026: 7, coutTotal: 7_000_000 },
];

export const TOTAL_EFFECTIF_2026 = 25;
export const CHARGES_SOCIALES_COMPLEMENTAIRES_2026 = 7_975_000;

// ============================================================================
// DÉTAIL PRESTATIONS EXTERNALISÉES 2026 (Nov-Déc)
// ============================================================================

export const PRESTATIONS_SECURITE_2026: PostePrestation[] = [
  { prestation: 'Agents jour (6h-22h)', effectif: 18, coutUnitaireMensuel: 360_000, mois: 2, montant: 12_960_000 },
  { prestation: 'Agents nuit (22h-6h)', effectif: 12, coutUnitaireMensuel: 400_000, mois: 2, montant: 9_600_000 },
  { prestation: 'Maître-chien', effectif: 2, coutUnitaireMensuel: 400_000, mois: 2, montant: 1_600_000 },
];
export const TOTAL_SECURITE_2026 = 24_000_000; // Arrondi

export const PRESTATIONS_NETTOYAGE_2026: PostePrestation[] = [
  { prestation: 'Équipe jour (7h-19h)', effectif: 18, coutUnitaireMensuel: 280_000, mois: 2, montant: 10_080_000 },
  { prestation: 'Équipe nuit (20h-6h)', effectif: 8, coutUnitaireMensuel: 300_000, mois: 2, montant: 4_800_000 },
  { prestation: 'Superviseur', effectif: 1, coutUnitaireMensuel: 400_000, mois: 2, montant: 800_000 },
  { prestation: 'Consommables sanitaires', coutUnitaireMensuel: 500_000, mois: 2, montant: 1_000_000 },
];
export const TOTAL_NETTOYAGE_2026 = 22_500_000; // Arrondi avec marge

export const PRESTATIONS_MAINTENANCE_2026: PostePrestation[] = [
  { prestation: 'CVC', statut: 'Sous garantie', coutUnitaireMensuel: 0, mois: 2, montant: 0 },
  { prestation: 'Électricité', statut: 'Sous garantie', coutUnitaireMensuel: 0, mois: 2, montant: 0 },
  { prestation: 'Plomberie', statut: 'Sous garantie', coutUnitaireMensuel: 0, mois: 2, montant: 0 },
  { prestation: 'GTC', statut: 'Support inclus', coutUnitaireMensuel: 0, mois: 2, montant: 0 },
  { prestation: 'Ascenseurs (contrat obligatoire)', statut: 'Entretien', coutUnitaireMensuel: 500_000, mois: 2, montant: 1_000_000 },
  { prestation: 'Groupes électrogènes', statut: 'Carburant tests', coutUnitaireMensuel: 400_000, mois: 2, montant: 800_000 },
  { prestation: 'Espaces verts', statut: 'Entretien', coutUnitaireMensuel: 350_000, mois: 2, montant: 700_000 },
];
export const TOTAL_MAINTENANCE_2026 = 2_500_000;

// ============================================================================
// DÉTAIL FLUIDES & ÉNERGIES 2026 (Nov-Déc)
// ============================================================================

export const FLUIDES_2026: PosteFluide[] = [
  { poste: 'Électricité (tous bâtiments)', mensuelEstime: 11_000_000, mois: 2, montant: 22_000_000 },
  { poste: 'Eau', mensuelEstime: 1_500_000, mois: 2, montant: 3_000_000 },
  { poste: 'Carburant GE (délestages)', mensuelEstime: 750_000, mois: 2, montant: 1_500_000 },
  { poste: 'Carburant véhicule', mensuelEstime: 200_000, mois: 2, montant: 400_000 },
  { poste: 'Gaz (si applicable)', mensuelEstime: 100_000, mois: 2, montant: 200_000 },
];
export const TOTAL_FLUIDES_2026 = 28_000_000; // Arrondi

// ============================================================================
// DÉTAIL ASSURANCES 2026 (prorata Nov-Déc)
// ============================================================================

export const ASSURANCES_2026: PosteAssurance[] = [
  { type: 'Multirisque immeuble', primeAnnuelle: 12_000_000, prorata2Mois: 2_000_000 },
  { type: 'RC Exploitation', primeAnnuelle: 4_500_000, prorata2Mois: 750_000 },
  { type: 'RC Employeur', primeAnnuelle: 2_000_000, prorata2Mois: 333_000 },
  { type: 'Perte d\'exploitation', primeAnnuelle: 5_500_000, prorata2Mois: 917_000 },
  { type: 'Tous risques informatique', primeAnnuelle: 1_500_000, prorata2Mois: 250_000 },
];
export const TOTAL_ASSURANCES_2026 = 5_000_000; // Arrondi

// ============================================================================
// DÉTAIL FONCTIONNEMENT 2026 (Nov-Déc)
// ============================================================================

export const FONCTIONNEMENT_2026: PosteFonctionnement[] = [
  { poste: 'Fournitures bureau', mensuel: 300_000, mois: 2, montant: 600_000 },
  { poste: 'Télécom (abonnements)', mensuel: 400_000, mois: 2, montant: 800_000 },
  { poste: 'Petits équipements', mensuel: 250_000, mois: 2, montant: 500_000 },
  { poste: 'Frais déplacements', mensuel: 300_000, mois: 2, montant: 600_000 },
  { poste: 'Réceptions/représentation', mensuel: 350_000, mois: 2, montant: 700_000 },
  { poste: 'Divers', mensuel: 200_000, mois: 2, montant: 400_000 },
];
export const TOTAL_FONCTIONNEMENT_2026 = 4_000_000; // Arrondi

// ============================================================================
// DÉTAIL MARKETING EXPLOITATION 2026 (Nov-Déc)
// ============================================================================

export const MARKETING_2026: PosteMarketing[] = [
  { poste: 'Animation commerciale Noël', montant: 3_000_000 },
  { poste: 'Communication digitale', montant: 1_500_000 },
  { poste: 'Décoration saisonnière', montant: 1_500_000 },
];
export const TOTAL_MARKETING_2026 = 6_000_000;

// ============================================================================
// BUDGET EXPLOITATION 2026 - SYNTHÈSE
// ============================================================================

export const BUDGET_EXPLOITATION_2026: BudgetExploitationAnnee = {
  annee: 2026,
  periode: 'Mars → Décembre (10 mois)',
  perimetre: [
    'Salaires : Mars → Décembre (selon vagues recrutement)',
    'Prestations & Fluides : Novembre → Décembre (2 mois post-ouverture)',
    'Maintenance : Minimale (équipements sous garantie)',
  ],
  montantTotal: 200_000_000,
  postes: [
    { id: 'masse_salariale_2026', poste: 'Masse salariale (Mars → Déc)', budgetAnnuel: 98_500_000, budgetMensuel: 9_850_000, categorie: 'masse_salariale', details: '25 personnes, échelonnement par vague' },
    { id: 'prestations_2026', poste: 'Prestations externalisées (Nov-Déc)', budgetAnnuel: 49_000_000, budgetMensuel: 24_500_000, categorie: 'prestations', details: 'Sécurité 24M, Nettoyage 22.5M, Maintenance 2.5M' },
    { id: 'fluides_2026', poste: 'Fluides & Énergies (Nov-Déc)', budgetAnnuel: 28_000_000, budgetMensuel: 14_000_000, categorie: 'fluides', details: 'Électricité, Eau, Carburant GE' },
    { id: 'assurances_2026', poste: 'Assurances (prorata Nov-Déc)', budgetAnnuel: 5_000_000, budgetMensuel: 2_500_000, categorie: 'assurances', details: 'Prorata 2 mois sur primes annuelles 25.5M' },
    { id: 'fonctionnement_2026', poste: 'Fonctionnement (Nov-Déc)', budgetAnnuel: 4_000_000, budgetMensuel: 2_000_000, categorie: 'fonctionnement', details: 'Bureau, Télécom, Déplacements' },
    { id: 'marketing_2026', poste: 'Marketing exploitation (Nov-Déc)', budgetAnnuel: 6_000_000, budgetMensuel: 3_000_000, categorie: 'marketing', details: 'Animation Noël, Digital, Décoration' },
    { id: 'contingence_2026', poste: 'Contingence (5%)', budgetAnnuel: 9_500_000, budgetMensuel: 950_000, categorie: 'contingence', details: '5% sur total postes 1-6' },
  ],
};

// ============================================================================
// DÉTAIL PRESTATIONS EXTERNALISÉES 2027 (Année complète)
// ============================================================================

export const PRESTATIONS_SECURITE_2027: PostePrestation[] = [
  { prestation: 'Agents jour', effectif: 18, coutUnitaireMensuel: 360_000, mois: 12, montant: 77_760_000 },
  { prestation: 'Agents nuit', effectif: 12, coutUnitaireMensuel: 400_000, mois: 12, montant: 57_600_000 },
  { prestation: 'Maître-chien', effectif: 2, coutUnitaireMensuel: 400_000, mois: 12, montant: 9_600_000 },
];
export const TOTAL_SECURITE_2027 = 145_000_000; // Arrondi de 144_960_000

export const PRESTATIONS_NETTOYAGE_2027: PostePrestation[] = [
  { prestation: 'Équipe jour', effectif: 18, coutUnitaireMensuel: 280_000, mois: 12, montant: 60_480_000 },
  { prestation: 'Équipe nuit', effectif: 8, coutUnitaireMensuel: 300_000, mois: 12, montant: 28_800_000 },
  { prestation: 'Superviseur', effectif: 1, coutUnitaireMensuel: 400_000, mois: 12, montant: 4_800_000 },
  { prestation: 'Consommables', coutUnitaireMensuel: 500_000, mois: 12, montant: 6_000_000 },
];
export const TOTAL_NETTOYAGE_2027 = 100_000_000; // Arrondi de 100_080_000

export const PRESTATIONS_MAINTENANCE_2027: PostePrestation[] = [
  { prestation: 'CVC (climatisation)', statut: 'Fin garantie S2', coutUnitaireMensuel: 600_000, mois: 6, montant: 3_600_000 },
  { prestation: 'Électricité HT/BT', statut: 'Sous garantie', coutUnitaireMensuel: 200_000, mois: 12, montant: 2_400_000 },
  { prestation: 'Ascenseurs (10 unités)', statut: 'Contrat full', coutUnitaireMensuel: 500_000, mois: 12, montant: 6_000_000 },
  { prestation: 'Escalators (4 unités)', statut: 'Contrat full', coutUnitaireMensuel: 350_000, mois: 12, montant: 4_200_000 },
  { prestation: 'Groupes électrogènes', statut: 'Entretien', coutUnitaireMensuel: 400_000, mois: 12, montant: 4_800_000 },
  { prestation: 'Plomberie', statut: 'Sous garantie', coutUnitaireMensuel: 150_000, mois: 12, montant: 1_800_000 },
  { prestation: 'GTC/GTB', statut: 'Support', coutUnitaireMensuel: 250_000, mois: 12, montant: 3_000_000 },
  { prestation: 'Portes automatiques', statut: 'Contrat', coutUnitaireMensuel: 150_000, mois: 12, montant: 1_800_000 },
  { prestation: 'Système parking', statut: 'Sous garantie', coutUnitaireMensuel: 200_000, mois: 12, montant: 2_400_000 },
  { prestation: 'Espaces verts', statut: 'Entretien', coutUnitaireMensuel: 350_000, mois: 12, montant: 4_200_000 },
  { prestation: 'SSI', statut: 'Sous garantie', coutUnitaireMensuel: 300_000, mois: 12, montant: 3_600_000 },
  { prestation: 'Divers/Curatif', statut: 'Provision', coutUnitaireMensuel: 500_000, mois: 12, montant: 6_000_000 },
];
export const TOTAL_MAINTENANCE_2027 = 50_000_000; // Arrondi avec marge de 43_800_000

// ============================================================================
// DÉTAIL FLUIDES & ÉNERGIES 2027
// ============================================================================

export const FLUIDES_2027: PosteFluide[] = [
  { poste: 'Électricité', consoAnnuelle: '1 100 000 kWh', tarif: '115 FCFA', mois: 12, montant: 126_500_000 },
  { poste: 'Eau', consoAnnuelle: '20 000 m³', tarif: '850 FCFA', mois: 12, montant: 17_000_000 },
  { poste: 'Carburant GE', mois: 12, montant: 9_000_000 },
  { poste: 'Carburant véhicule', mois: 12, montant: 3_000_000 },
  { poste: 'Gaz', mois: 12, montant: 1_500_000 },
];
export const TOTAL_FLUIDES_2027 = 160_000_000; // Arrondi de 157_000_000

// ============================================================================
// DÉTAIL ASSURANCES 2027
// ============================================================================

export const ASSURANCES_2027: PosteAssurance[] = [
  { type: 'Multirisque immeuble', primeAnnuelle: 12_000_000 },
  { type: 'RC Exploitation', primeAnnuelle: 5_000_000 },
  { type: 'RC Employeur', primeAnnuelle: 2_500_000 },
  { type: 'Perte d\'exploitation', primeAnnuelle: 5_500_000 },
  { type: 'Tous risques informatique', primeAnnuelle: 1_000_000 },
];
export const TOTAL_ASSURANCES_2027 = 26_000_000;

// ============================================================================
// DÉTAIL FONCTIONNEMENT 2027
// ============================================================================

export const FONCTIONNEMENT_2027: PosteFonctionnement[] = [
  { poste: 'Fournitures bureau', mensuel: 350_000, mois: 12, montant: 4_200_000 },
  { poste: 'Télécom', mensuel: 450_000, mois: 12, montant: 5_400_000 },
  { poste: 'Petits équipements', mensuel: 300_000, mois: 12, montant: 3_600_000 },
  { poste: 'Frais déplacements', mensuel: 350_000, mois: 12, montant: 4_200_000 },
  { poste: 'Réceptions', mensuel: 300_000, mois: 12, montant: 3_600_000 },
  { poste: 'Honoraires (juridique, compta)', mensuel: 250_000, mois: 12, montant: 3_000_000 },
];
export const TOTAL_FONCTIONNEMENT_2027 = 24_000_000;

// ============================================================================
// DÉTAIL MARKETING & COMMUNICATION 2027
// ============================================================================

export const MARKETING_2027: PosteMarketing[] = [
  { poste: 'Animations (4 événements majeurs)', montant: 12_000_000 },
  { poste: 'Communication digitale', montant: 8_000_000 },
  { poste: 'Décoration saisonnière', montant: 5_000_000 },
  { poste: 'Supports communication', montant: 4_000_000 },
  { poste: 'Relations presse', montant: 3_000_000 },
  { poste: 'Signalétique (renouvellement)', montant: 3_000_000 },
];
export const TOTAL_MARKETING_2027 = 35_000_000;

// ============================================================================
// DÉTAIL PROVISIONS 2027
// ============================================================================

export const PROVISIONS_2027: PosteProvision[] = [
  { poste: 'Provision gros entretien (1%)', montant: 8_000_000 },
  { poste: 'Provision créances douteuses (2% loyers)', montant: 8_000_000 },
  { poste: 'Provision litiges', montant: 4_000_000 },
];
export const TOTAL_PROVISIONS_2027 = 20_000_000;

// ============================================================================
// MASSE SALARIALE 2027
// ============================================================================

export const MASSE_SALARIALE_2027 = [
  { categorie: 'Direction (CM)', effectif: 1, coutMensuelCharge: 2_250_000, coutAnnuel: 27_000_000 },
  { categorie: 'Managers', effectif: 1, coutMensuelCharge: 1_500_000, coutAnnuel: 18_000_000 },
  { categorie: 'Managers mutualisés (25%)', effectif: 2, coutMensuelCharge: 500_000, coutAnnuel: 12_000_000 },
  { categorie: 'Team Leaders', effectif: 4, coutMensuelCharge: 687_500, coutAnnuel: 33_000_000 },
  { categorie: 'Seniors', effectif: 4, coutMensuelCharge: 562_500, coutAnnuel: 27_000_000 },
  { categorie: 'Assistants/Officers', effectif: 5, coutMensuelCharge: 375_000, coutAnnuel: 22_500_000 },
  { categorie: 'Agents', effectif: 8, coutMensuelCharge: 225_000, coutAnnuel: 21_600_000 },
];
export const TOTAL_EFFECTIF_2027 = 25;
export const TOTAL_MENSUEL_CHARGE_2027 = 10_850_000;
export const TOTAL_ANNUEL_BASE_2027 = 161_100_000;
export const CHARGES_COMPLEMENTAIRES_2027 = 3_900_000; // Primes, 13ème mois
export const TOTAL_MASSE_SALARIALE_2027 = 165_000_000;

// ============================================================================
// BUDGET EXPLOITATION 2027 - SYNTHÈSE
// ============================================================================

export const BUDGET_EXPLOITATION_2027: BudgetExploitationAnnee = {
  annee: 2027,
  periode: 'Année complète (12 mois)',
  perimetre: [
    'Première année complète d\'exploitation',
    'Équipements toujours sous garantie (maintenance réduite)',
    'Effectif stabilisé : 25 personnes',
  ],
  montantTotal: 761_000_000,
  postes: [
    { id: 'masse_salariale_2027', poste: 'Masse salariale', budgetAnnuel: 165_000_000, budgetMensuel: 13_750_000, categorie: 'masse_salariale', details: '25 personnes stabilisées' },
    { id: 'prestations_2027', poste: 'Prestations externalisées', budgetAnnuel: 295_000_000, budgetMensuel: 24_583_333, categorie: 'prestations', details: 'Sécurité 145M, Nettoyage 100M, Maintenance 50M' },
    { id: 'fluides_2027', poste: 'Fluides & Énergies', budgetAnnuel: 160_000_000, budgetMensuel: 13_333_333, categorie: 'fluides', details: '1.1M kWh électricité, 20k m³ eau' },
    { id: 'assurances_2027', poste: 'Assurances', budgetAnnuel: 26_000_000, budgetMensuel: 2_166_667, categorie: 'assurances', details: 'Multi-risque, RC, Perte exploitation' },
    { id: 'fonctionnement_2027', poste: 'Fonctionnement', budgetAnnuel: 24_000_000, budgetMensuel: 2_000_000, categorie: 'fonctionnement', details: 'Bureau, Télécom, Honoraires' },
    { id: 'marketing_2027', poste: 'Marketing & Communication', budgetAnnuel: 35_000_000, budgetMensuel: 2_916_667, categorie: 'marketing', details: '4 événements majeurs, Digital, RP' },
    { id: 'provisions_2027', poste: 'Provisions', budgetAnnuel: 20_000_000, budgetMensuel: 1_666_667, categorie: 'provisions', details: 'Gros entretien, Créances douteuses, Litiges' },
    { id: 'contingence_2027', poste: 'Contingence (5%)', budgetAnnuel: 36_000_000, budgetMensuel: 3_000_000, categorie: 'contingence', details: '5% sur total postes 1-7' },
  ],
};

// ============================================================================
// SYNTHÈSE COMPARATIVE
// ============================================================================

export const SYNTHESE_COMPARATIVE = {
  postes: [
    { poste: 'Masse salariale', budget2026: 98_500_000, budget2027: 165_000_000 },
    { poste: 'Prestations', budget2026: 49_000_000, budget2027: 295_000_000 },
    { poste: 'Fluides', budget2026: 28_000_000, budget2027: 160_000_000 },
    { poste: 'Assurances', budget2026: 5_000_000, budget2027: 26_000_000 },
    { poste: 'Fonctionnement', budget2026: 4_000_000, budget2027: 24_000_000 },
    { poste: 'Marketing', budget2026: 6_000_000, budget2027: 35_000_000 },
    { poste: 'Provisions', budget2026: 0, budget2027: 20_000_000 },
    { poste: 'Contingence', budget2026: 9_500_000, budget2027: 36_000_000 },
  ],
  totaux: {
    budget2026: 200_000_000,
    budget2027: 761_000_000,
  },
};

// ============================================================================
// RATIOS & BENCHMARKS (2027)
// ============================================================================

export const RATIOS_BENCHMARKS: RatiosBenchmark[] = [
  { indicateur: 'Coût exploitation / m² GLA', valeur: '45 000 FCFA/m²/an', benchmarkCI: '40 000 - 55 000' },
  { indicateur: 'Masse salariale / Total OPEX', valeur: '22%', benchmarkCI: '20% - 28%' },
  { indicateur: 'Prestations / Total OPEX', valeur: '39%', benchmarkCI: '35% - 45%' },
  { indicateur: 'Fluides / Total OPEX', valeur: '21%', benchmarkCI: '18% - 25%' },
  { indicateur: 'Effectif / 1000 m² GLA', valeur: '1,5 pers', benchmarkCI: '1,2 - 1,8' },
];

// Surface GLA référence
export const GLA_COSMOS_ANGRE = PROJET_CONFIG.surface.gla; // m² de surface locative brute — source: PROJET_CONFIG

// ============================================================================
// COULEURS PAR CATÉGORIE
// ============================================================================

export const CATEGORY_COLORS: Record<CategorieExploitation, { bg: string; text: string; border: string; fill: string }> = {
  masse_salariale: { bg: 'bg-blue-100', text: 'text-blue-700', border: 'border-blue-300', fill: '#3b82f6' },
  prestations: { bg: 'bg-green-100', text: 'text-green-700', border: 'border-green-300', fill: '#22c55e' },
  fluides: { bg: 'bg-amber-100', text: 'text-amber-700', border: 'border-amber-300', fill: '#f59e0b' },
  assurances: { bg: 'bg-purple-100', text: 'text-purple-700', border: 'border-purple-300', fill: '#a855f7' },
  fonctionnement: { bg: 'bg-cyan-100', text: 'text-cyan-700', border: 'border-cyan-300', fill: '#06b6d4' },
  marketing: { bg: 'bg-pink-100', text: 'text-pink-700', border: 'border-pink-300', fill: '#ec4899' },
  provisions: { bg: 'bg-indigo-100', text: 'text-indigo-700', border: 'border-indigo-300', fill: '#6366f1' },
  contingence: { bg: 'bg-gray-100', text: 'text-gray-700', border: 'border-gray-300', fill: '#6b7280' },
};

export const CATEGORY_LABELS: Record<CategorieExploitation, string> = {
  masse_salariale: 'Masse salariale',
  prestations: 'Prestations',
  fluides: 'Fluides & Énergies',
  assurances: 'Assurances',
  fonctionnement: 'Fonctionnement',
  marketing: 'Marketing',
  provisions: 'Provisions',
  contingence: 'Contingence',
};

// ============================================================================
// PRÉVISIONS MENSUELLES 2027
// ============================================================================

export const PREVISIONS_MENSUELLES_2027 = [
  { mois: 'Jan', prevu: 63_416_667, realise: 0 },
  { mois: 'Fév', prevu: 63_416_667, realise: 0 },
  { mois: 'Mar', prevu: 63_416_667, realise: 0 },
  { mois: 'Avr', prevu: 63_416_667, realise: 0 },
  { mois: 'Mai', prevu: 63_416_667, realise: 0 },
  { mois: 'Juin', prevu: 63_416_667, realise: 0 },
  { mois: 'Juil', prevu: 63_416_667, realise: 0 },
  { mois: 'Août', prevu: 63_416_667, realise: 0 },
  { mois: 'Sep', prevu: 63_416_667, realise: 0 },
  { mois: 'Oct', prevu: 63_416_667, realise: 0 },
  { mois: 'Nov', prevu: 63_416_667, realise: 0 },
  { mois: 'Déc', prevu: 63_416_663, realise: 0 }, // Ajustement pour arriver à 761M
];

// ============================================================================
// EXPORTS HELPER FUNCTIONS
// ============================================================================

export function getBudgetByYear(annee: 2026 | 2027): BudgetExploitationAnnee {
  return annee === 2026 ? BUDGET_EXPLOITATION_2026 : BUDGET_EXPLOITATION_2027;
}

export function getTotalBudgetExploitation(): number {
  return BUDGET_EXPLOITATION_2026.montantTotal + BUDGET_EXPLOITATION_2027.montantTotal;
}

export function getPostesParCategorie(annee: 2026 | 2027): Record<CategorieExploitation, number> {
  const budget = getBudgetByYear(annee);
  return budget.postes.reduce((acc, poste) => {
    acc[poste.categorie] = (acc[poste.categorie] || 0) + poste.budgetAnnuel;
    return acc;
  }, {} as Record<CategorieExploitation, number>);
}
